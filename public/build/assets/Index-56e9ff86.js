import{_ as w}from"./AppLayout-c22f2406.js";import{T as B}from"./TableSection-17dda05a.js";import{c as O,_ as T}from"./helpers-7ae2f424.js";import{_ as z}from"./FormModal-50676e44.js";import{_ as j}from"./InputForm-036517a6.js";import{_ as A}from"./SelectForm-758b843a.js";import{t as b}from"./toast-4e61b110.js";import{T as F,r as $,o as l,g as P,h as d,d as r,a as i,i as h,F as f,b as t,t as C,u as s,e as U}from"./app-933f0bf1.js";import{I as V}from"./IconPencil-d688dbb9.js";import{I as y}from"./IconTrash-f1846fad.js";import"./createVueComponent-f4fa544b.js";import"./_plugin-vue_export-helper-c27b6911.js";function q(){const a=F({id:"",name:"",parent_id:null});function p(n=null){a.post(route("dashboard.categories.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b.success("Categoria agregada"),n&&n()}})}function c(n=null){a.put(route("dashboard.categories.update",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b.success("Categoria actualizada"),n&&n()}})}function v(n){O({onConfirm:()=>{a.delete(route("dashboard.categories.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b.success("Categoria eliminada")}})}})}return{form:a,store:p,update:c,destroy:v}}const E=t("span",{class:"title"}," Categorias ",-1),L=t("th",null,"Nombre",-1),M=t("th",null,"Acciones",-1),G={class:"hover:bg-gray-50"},H={class:"font-semibold"},J={class:"flex gap-4"},K={class:"hover:bg-gray-50"},Q={class:"text-xs ml-4"},R={class:"flex gap-4"},W={key:0},X=t("td",{colspan:"3",class:"text-center"},"No data to display",-1),Y=[X],Z=t("option",{selected:"",value:""},"None",-1),D=["value"],fe={__name:"Index",props:{categories:{type:Object,required:!0}},setup(a){const p=[{name:"Inicio",route:route("dashboard.users.index")},{name:"Categorias",route:route("dashboard.categories.index")}],c=$(!0),{store:v,update:n,destroy:x,form:u}=q(),_=$(!1);function k(S){Object.assign(u,S),_.value=!0,c.value=!1}function N(){c.value?v(g):n(g)}function g(){_.value=!1,c.value=!0,u.reset()}return(S,o)=>(l(),P(w,{title:"Categorias",breads:p},{header:d(()=>[E,r(T,{onClick:o[0]||(o[0]=e=>_.value=!0)})]),default:d(()=>[r(B,null,{header:d(()=>[L,M]),body:d(()=>[(l(!0),i(f,null,h(a.categories,(e,ee)=>(l(),i(f,null,[t("tr",G,[t("td",null,[t("span",H,C(e.name),1)]),t("td",null,[t("div",J,[r(s(V),{role:"button",onClick:m=>k(e)},null,8,["onClick"]),r(s(y),{role:"button",onClick:m=>s(x)(e.id)},null,8,["onClick"])])])]),(l(!0),i(f,null,h(e.childrens,(m,te)=>(l(),i("tr",K,[t("td",null,[t("span",Q,C(m.name),1)]),t("td",null,[t("div",R,[r(s(V),{size:"22",role:"button",onClick:I=>k(m)},null,8,["onClick"]),r(s(y),{size:"22",role:"button",onClick:I=>s(x)(m.id)},null,8,["onClick"])])])]))),256))],64))),256)),a.categories.length==0?(l(),i("tr",W,Y)):U("",!0)]),_:1}),r(z,{show:_.value,title:"Categoria",onOnCancel:o[3]||(o[3]=e=>g()),onOnSubmit:o[4]||(o[4]=e=>N())},{default:d(()=>[r(j,{text:"Name",modelValue:s(u).name,"onUpdate:modelValue":o[1]||(o[1]=e=>s(u).name=e)},null,8,["modelValue"]),r(A,{modelValue:s(u).parent_id,"onUpdate:modelValue":o[2]||(o[2]=e=>s(u).parent_id=e),text:"Parent category",name:"parent_id"},{default:d(()=>[Z,(l(!0),i(f,null,h(a.categories,e=>(l(),i("option",{value:e.id},C(e.name),9,D))),256))]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{fe as default};
