import{_ as C}from"./AppLayout-ac447384.js";import{_ as P,c as I}from"./helpers-67032032.js";import{T as $}from"./TableSection-75e35bed.js";import{t as _}from"./toast-b55ab1c7.js";import{r as b,T as w,o as u,g as N,h as l,d as a,b as o,u as t,a as c,i as O,t as h,e as v,l as U,F as q,O as B}from"./app-a13fef8a.js";import{_ as z}from"./ThePaginator-0783b7a4.js";import{_ as E}from"./FormModal-16e00390.js";import{_ as d}from"./InputForm-02594a54.js";import{s as T,w as D,q as g}from"./Search-f39aaeee.js";import{I as j}from"./IconEye-88a6bea3.js";import{I as A}from"./IconPencil-77ebb8e2.js";import{I as F}from"./IconTrash-46c54b32.js";import"./createVueComponent-96374eb1.js";import"./_plugin-vue_export-helper-c27b6911.js";const K=o("span",{class:"title"}," Productos ",-1),L={class:"mb-3"},M={class:"grid grid-cols-5 gap-4"},G=o("th",null,"SKU",-1),H=o("th",null,"Nombre",-1),J=o("th",null,"Acciones",-1),Q={class:"hover:bg-gray-50"},R={class:"uppercase me-3"},W={key:0,class:"badge-red"},X={class:"flex gap-2"},Y={tooltip:"Editar"},Z={tooltip:"Eliminar"},ee={key:0},te=o("td",{colspan:"3",class:"text-center"},"No hay datos que mostrar",-1),oe=[te],ve={__name:"Index",props:{products:{type:Object,required:!0}},setup(m){const V=[{name:"Inicio",route:route("dashboard.products.index")},{name:"Productos",route:route("dashboard.products.index")}],i=b(!1),p=b(!0),s=w({id:null,name:null,sku:null,image:null,discount:0});function k(n){Object.assign(s,n),p.value=!1,i.value=!0}function S(){p.value?s.post(route("dashboard.products.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f(),_.success("Producto agregado")}}):s.put(route("dashboard.products.update",s.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f(),_.success("Producto actualizado")}})}function x(n){I({onConfirm:()=>{B.delete(route("dashboard.products.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Producto eliminado")}})}})}function f(){i.value=!1,p.value=!0,s.reset()}return T(),D(route("dashboard.products.index"),["products"]),(n,r)=>(u(),N(C,{title:"Products",breads:V},{header:l(()=>[K,a(P,{onClick:r[0]||(r[0]=e=>i.value=!0)})]),default:l(()=>[o("div",L,[o("div",M,[a(d,{text:"Buscar",type:"search",modelValue:t(g).search,"onUpdate:modelValue":r[1]||(r[1]=e=>t(g).search=e)},null,8,["modelValue"])])]),a($,null,{header:l(()=>[G,H,J]),body:l(()=>[(u(!0),c(q,null,O(m.products.data,(e,se)=>(u(),c("tr",Q,[o("td",null,h(e.sku),1),o("td",null,[o("span",R,h(e.name),1),e.discount?(u(),c("span",W," C$"+h(e.discount)+" Off ",1)):v("",!0)]),o("td",null,[o("div",X,[a(t(U),{href:n.route("dashboard.products.show",e.id),tooltip:"Detalles"},{default:l(()=>[a(t(j),{size:"22",role:"button"})]),_:2},1032,["href"]),o("label",Y,[a(t(A),{size:"22",role:"button",onClick:y=>k(e)},null,8,["onClick"])]),o("label",Z,[a(t(F),{size:"22",role:"button",onClick:y=>x(e.id)},null,8,["onClick"])])])])]))),256)),m.products.data.length==0?(u(),c("tr",ee,oe)):v("",!0)]),paginator:l(()=>[a(z,{links:m.products.links},null,8,["links"])]),_:1}),a(E,{show:i.value,title:"Product",onOnCancel:f,onOnSubmit:S},{default:l(()=>[a(d,{text:"SKU",modelValue:t(s).sku,"onUpdate:modelValue":r[2]||(r[2]=e=>t(s).sku=e),required:""},null,8,["modelValue"]),a(d,{text:"Name",modelValue:t(s).name,"onUpdate:modelValue":r[3]||(r[3]=e=>t(s).name=e),required:""},null,8,["modelValue"]),a(d,{text:"Image",modelValue:t(s).image,"onUpdate:modelValue":r[4]||(r[4]=e=>t(s).image=e),type:"url"},null,8,["modelValue"]),a(d,{text:"Descuento",modelValue:t(s).discount,"onUpdate:modelValue":r[5]||(r[5]=e=>t(s).discount=e),type:"number",min:0},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{ve as default};
