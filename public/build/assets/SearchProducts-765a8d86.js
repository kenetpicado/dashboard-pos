import{_}from"./InputForm-5e72de16.js";import{j as y,O as f,k as v,o as s,a as o,b as e,d as h,h as b,F as c,r as p,e as g,t as d,u as x}from"./app-9df9f53b.js";import{l as k}from"./lodash-018d401e.js";import{_ as w}from"./SelectForm-3daceda9.js";import{c as V}from"./createVueComponent-4dff6040.js";var C=V("shopping-cart-filled","IconShoppingCartFilled",[["path",{d:"M6 2a1 1 0 0 1 .993 .883l.007 .117v1.068l13.071 .935a1 1 0 0 1 .929 1.024l-.01 .114l-1 7a1 1 0 0 1 -.877 .853l-.113 .006h-12v2h10a3 3 0 1 1 -2.995 3.176l-.005 -.176l.005 -.176c.017 -.288 .074 -.564 .166 -.824h-5.342a3 3 0 1 1 -5.824 1.176l-.005 -.176l.005 -.176a3.002 3.002 0 0 1 1.995 -2.654v-12.17h-1a1 1 0 0 1 -.993 -.883l-.007 -.117a1 1 0 0 1 .883 -.993l.117 -.007h2zm0 16a1 1 0 1 0 0 2a1 1 0 0 0 0 -2zm11 0a1 1 0 1 0 0 2a1 1 0 0 0 0 -2z","stroke-width":"0",fill:"currentColor",key:"svg-0"}]]);const S={class:"flex gap-4"},P=e("option",{selected:"",value:""},"Todas",-1),B=["value"],$=["value"],j={class:"w-full border-collapse bg-white text-left text-sm text-gray-600 rounded-lg"},q=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",null,"#"),e("th",null,"Producto"),e("th",null,"Agregar")])],-1),z={class:"divide-y divide-gray-100 border-t border-gray-100"},F={key:0,class:"h-36 w-36 flex items-center justify-center"},N=["src"],U={class:"uppercase"},E={class:"text-gray-400 flex items-center gap-1"},I=["onClick"],O={key:0,class:"text-center"},L={colspan:"3"},A={key:0},D={key:1},J={__name:"SearchProducts",props:{products:{type:Object,required:!1}},setup(i){const t=y({search:"",type:null,category_id:null}),r=new URLSearchParams(window.location.search);r.get("search")&&(t.search=r.get("search")),r.get("type")&&(t.type=r.get("type")),r.get("category_id")&&(t.category_id=r.get("category_id"));const m=k.debounce(([n,l])=>{n||delete t.search,l||delete t.category_id,f.get(route("dashboard.transactions.create"),t,{preserveState:!0,preserveScroll:!0,only:["products"]})},500);return v(()=>[t.search,t.category_id],m),(n,l)=>(s(),o("div",null,[e("div",S,[h(_,{text:"Buscar",placeholder:"Buscar",modelValue:t.search,"onUpdate:modelValue":l[0]||(l[0]=a=>t.search=a)},null,8,["modelValue"]),h(w,{text:"Categoria",modelValue:t.category_id,"onUpdate:modelValue":l[1]||(l[1]=a=>t.category_id=a),required:""},{default:b(()=>[P,(s(!0),o(c,null,p(n.$page.props.categories,a=>(s(),o(c,null,[e("option",{value:a.id},d(a.name),9,B),(s(!0),o(c,null,p(a.childrens,u=>(s(),o("option",{value:u.id},d(u.name),9,$))),256))],64))),256))]),_:1},8,["modelValue"])]),e("table",j,[q,e("tbody",z,[(s(!0),o(c,null,p(i.products,(a,u)=>(s(),o("tr",null,[e("td",null,[a.image?(s(),o("div",F,[e("img",{src:a.image,onerror:"this.src='/not-found.jpg'",alt:"Imagen",class:"max-h-full max-w-full rounded-lg"},null,8,N)])):g("",!0)]),e("td",null,[e("div",U,d(a.name),1),e("div",E,d(a.sku),1)]),e("td",null,[e("button",{class:"primary-button",type:"button",onClick:K=>n.$emit("setProduct",a)},[h(x(C),{size:"20"})],8,I)])]))),256)),i.products.length==0?(s(),o("tr",O,[e("td",L,[!t.search&&i.products.length==0?(s(),o("span",A," Escriba el nombreo SKU del producto que desea buscar ")):(s(),o("span",D," No se han encontrado productos "))])])):g("",!0)])])]))}};export{J as default};
