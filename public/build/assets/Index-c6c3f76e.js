import{_ as V}from"./ColorList-d03d1eb1.js";import{_ as w}from"./DateColumn-45ef59bf.js";import{_ as N}from"./EditInventoryForm-ccbb9453.js";import{_ as O}from"./InputForm-b75227be.js";import{_ as P}from"./SelectForm-7c21409b.js";import{_ as T}from"./StatCard-f8e4eec2.js";import{T as j}from"./TableSection-bf34236f.js";import{_ as B}from"./ThePaginator-536f1e87.js";import{_ as E,I as L}from"./AppLayout-7f5e14d0.js";import{c as M}from"./helpers-7c76aa95.js";import{t as F}from"./toast-5832cfeb.js";import{i as U,j as v,c as z,O as y,k as A,o as a,g as b,h as d,b as t,d as r,a as c,r as _,t as l,F as p,u as g,e as D}from"./app-b76a9bfc.js";import{l as R}from"./lodash-b34d7fc5.js";import{I as G}from"./IconCurrencyDollar-41846dd3.js";import{I as H}from"./IconPencil-d492e351.js";import{I as J}from"./IconTrash-1e5269db.js";import"./Carbon-053ffa43.js";import"./FormModal-6d50eaa2.js";import"./createVueComponent-19caef2b.js";import"./_plugin-vue_export-helper-c27b6911.js";const K=t("span",{class:"title"}," Inventario ",-1),Q={class:"mb-1"},W={class:"grid grid-cols-5 gap-4"},X=t("option",{selected:"",value:""},"Todos",-1),Y=["value"],Z={class:"mb-4"},tt={class:"grid grid-cols-5 gap-4"},et=t("th",null,"Fecha",-1),ot=t("th",null,"Producto",-1),st=t("th",null,"Colors",-1),nt=t("th",null,"Medida",-1),rt=t("th",null,"Cantidad",-1),at=t("th",null,"Costo (ud.)",-1),lt=t("th",null,"Todal",-1),it=t("th",null,"Actions",-1),ut={class:"hover:bg-gray-50"},dt={class:"uppercase"},ct={class:"text-gray-400 mt-2"},mt={class:"font-bold text-indigo-600"},_t={class:"flex justify-between gap-4"},pt={tooltip:"Editar"},ht={tooltip:"Eliminar"},ft={key:0},vt=t("td",{colspan:"6",class:"text-center"},"No hay datos que mostrar",-1),yt=[vt],Ut={__name:"Index",props:{inventory:{type:Object,required:!0},total:{type:Number,required:!0},total_quantity:{type:[Number,String],required:!0},users:{type:Object,required:!0},measures:{type:Object,required:!0}},setup(i){const h=i,q=[{name:"Inicio",route:route("dashboard.index")},{name:"Inventario",route:route("dashboard.inventory.index")}],m=U(!1),o=v({id:null,measure:null,quantity:null,unit_price:null,colors:[]}),x=z(()=>[{title:"Inventario",value:"C$"+h.total.toLocaleString(),icon:G},{title:"Productos",value:h.total_quantity.toLocaleString(),icon:L}]),k=s=>{M({onConfirm:()=>{y.delete(route("dashboard.inventory.destroy",s),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{F.success("Eliminado correctamente")}})}})};function C(s){o.id=s.id,o.measure=s.measure,o.quantity=s.quantity,o.unit_price=s.unit_price,o.colors=s.colors,m.value=!0}function I(){o.id=null,o.measure=null,o.quantity=null,o.unit_price=null,o.colors=[],m.value=!1}const f=new URLSearchParams(window.location.search),n=v({search:f.get("search")??"",user_id:f.get("user_id")??""}),$=R.debounce(()=>{for(const s in n)n[s]||delete n[s];y.get(route("dashboard.inventory.index"),n,{preserveState:!0,preserveScroll:!0,only:["inventory","total","total_quantity"]})},500);return A(()=>n,$,{deep:!0}),(s,u)=>(a(),b(E,{title:"Inventario",breads:q},{header:d(()=>[K]),default:d(()=>[t("div",Q,[t("div",W,[r(O,{text:"Buscar",modelValue:n.search,"onUpdate:modelValue":u[0]||(u[0]=e=>n.search=e)},null,8,["modelValue"]),r(P,{text:"Responsable",modelValue:n.user_id,"onUpdate:modelValue":u[1]||(u[1]=e=>n.user_id=e)},{default:d(()=>[X,(a(!0),c(p,null,_(i.users,e=>(a(),c("option",{value:e.id},l(e.name),9,Y))),256))]),_:1},8,["modelValue"])])]),t("div",Z,[t("div",tt,[(a(!0),c(p,null,_(x.value,e=>(a(),b(T,{stat:e,key:e.title},null,8,["stat"]))),128))])]),r(j,null,{header:d(()=>[et,ot,st,nt,rt,at,lt,it]),body:d(()=>[(a(!0),c(p,null,_(i.inventory.data,(e,bt)=>(a(),c("tr",ut,[t("td",null,[r(w,{date:e.created_at},null,8,["date"])]),t("td",null,[t("div",dt,l(e.product.name),1),t("div",ct,l(e.product.sku),1)]),t("td",null,[r(V,{colors:e.colors},null,8,["colors"])]),t("td",null,l(e.measure),1),t("td",null,l(e.quantity),1),t("td",null," C$"+l(e.unit_cost),1),t("td",null,[t("span",mt,"C$"+l((e.quantity*e.unit_cost).toLocaleString()),1)]),t("td",null,[t("div",_t,[t("span",pt,[r(g(H),{size:"22",role:"button",onClick:S=>C(e)},null,8,["onClick"])]),t("span",ht,[r(g(J),{size:"22",class:"text-red-200",role:"button",onClick:S=>k(e.id)},null,8,["onClick"])])])])]))),256)),i.inventory.data.length==0?(a(),c("tr",ft,yt)):D("",!0)]),paginator:d(()=>[r(B,{links:i.inventory.links},null,8,["links"])]),_:1}),r(N,{onOnCancel:u[2]||(u[2]=e=>I()),openModal:m.value,form:o,measures:i.measures},null,8,["openModal","form","measures"])]),_:1}))}};export{Ut as default};
