import{_ as x}from"./AppLayout-5505c54b.js";import{_ as y}from"./FormSection-a0ed5957.js";import{_ as i}from"./InputForm-1ee8b92d.js";import{T as w,o as v,g as U,h as d,d as l,u as t,b as r,O as k}from"./app-ea04b834.js";import{t as C}from"./toast-483d16d1.js";import{_ as c}from"./SelectForm-8c1e19a8.js";import"./createVueComponent-9851746b.js";import"./_plugin-vue_export-helper-c27b6911.js";const N=r("span",{class:"title mt-1"}," Profile ",-1),O=r("option",{value:"not_manage"},"No administrar",-1),P=r("option",{value:"manage"},"Administrar",-1),S=r("option",{value:"no_caducable"},"No perecederos",-1),q=r("option",{value:"caducable"},"Perecederos",-1),$=r("div",{class:"col-span-2 mb-2 text-end"},[r("span",{class:"text-sm text-gray-600"},"Dejar la contraseÃ±a en blanco si no la desea actualizar.")],-1),F={__name:"Index",props:{profile:{type:Object,required:!0},settings:{type:Object,required:!0}},setup(_){var u,m,p,f;const n=_,V=[{name:"Inicio",route:route("dashboard.index")},{name:"Perfil",route:route("dashboard.profile.index")}],e=w({id:n.profile.id,name:n.profile.name,email:n.profile.email,password:"",password_confirmation:"",settings:{product_min:((u=n.settings.find(s=>s.key==="product_min"))==null?void 0:u.value)??null,product_type:((m=n.settings.find(s=>s.key==="product_type"))==null?void 0:m.value)??"no_caducable",colors:((p=n.settings.find(s=>s.key==="colors"))==null?void 0:p.value)??"not_manage",mobile:((f=n.settings.find(s=>s.key==="mobile"))==null?void 0:f.value)??null}});function b(){e.password===""&&(delete e.password,delete e.password_confirmation),e.put(route("dashboard.profile.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{C.success("Perfil actualizado")},onError:s=>{console.log(s)}})}function g(){k.visit(route("dashboard.index"))}return(s,o)=>(v(),U(x,{title:"Create",breads:V},{header:d(()=>[N]),default:d(()=>[l(y,{title:"Create",onOnSubmit:b,onOnCancel:g,isNew:!1},{default:d(()=>[l(i,{text:"Name",modelValue:t(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).name=a),required:""},null,8,["modelValue"]),l(i,{text:"Email",modelValue:t(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>t(e).email=a),type:"email",required:""},null,8,["modelValue"]),l(i,{text:"Telefono empresarial",modelValue:t(e).settings.mobile,"onUpdate:modelValue":o[2]||(o[2]=a=>t(e).settings.mobile=a),type:"number",min:8},null,8,["modelValue"]),l(i,{text:"Alerta minimo de productos",modelValue:t(e).settings.product_min,"onUpdate:modelValue":o[3]||(o[3]=a=>t(e).settings.product_min=a),type:"number",min:1},null,8,["modelValue"]),l(c,{modelValue:t(e).settings.colors,"onUpdate:modelValue":o[4]||(o[4]=a=>t(e).settings.colors=a),text:"Colores"},{default:d(()=>[O,P]),_:1},8,["modelValue"]),l(c,{modelValue:t(e).settings.product_type,"onUpdate:modelValue":o[5]||(o[5]=a=>t(e).settings.product_type=a),text:"Tipo de productos"},{default:d(()=>[S,q]),_:1},8,["modelValue"]),l(i,{text:"Password",modelValue:t(e).password,"onUpdate:modelValue":o[6]||(o[6]=a=>t(e).password=a),type:"password"},null,8,["modelValue"]),l(i,{text:"Password confirmation",modelValue:t(e).password_confirmation,"onUpdate:modelValue":o[7]||(o[7]=a=>t(e).password_confirmation=a),type:"password"},null,8,["modelValue"]),$]),_:1})]),_:1}))}};export{F as default};
