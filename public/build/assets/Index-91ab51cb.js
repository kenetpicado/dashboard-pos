import{_ as C}from"./DateColumn-84435c4a.js";import{_ as I}from"./InputForm-66da446b.js";import{_ as $}from"./SelectForm-912a8312.js";import{_ as S}from"./StatCard-5020876f.js";import{T as V}from"./TableSection-e878f4d8.js";import{_ as N}from"./ThePaginator-82107e64.js";import{_ as O,I as T}from"./AppLayout-2e1084a4.js";import{s as w,w as B,a as P,q as m}from"./Search-8ab3900b.js";import{c as j}from"./helpers-f7c8ea22.js";import{i as E,k as L,c as M,o as s,g as v,h as u,b as t,d as n,u as d,a as c,r as p,t as r,F as h,e as F,O as U}from"./app-6ab9149f.js";import{t as z}from"./toast-98ac457b.js";import{_ as A}from"./EditInventoryForm-d842e200.js";import{I as D}from"./IconCurrencyDollar-8ab2b9ec.js";import{I as R}from"./IconPencil-b4d87f5f.js";import{I as G}from"./IconTrash-faf698b9.js";import"./Carbon-053ffa43.js";import"./createVueComponent-c53f65e9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sweetalert2.all-2717f60a.js";import"./index-94fef0aa.js";import"./FormModal-5bc8f3a1.js";const H=t("span",{class:"title"}," Inventario ",-1),J={class:"mb-1"},K={class:"grid grid-cols-5 gap-4"},Q=t("option",{selected:"",value:""},"Todos",-1),W=["value"],X={class:"mb-4"},Y={class:"grid grid-cols-5 gap-4"},Z=t("th",null,"Fecha",-1),tt=t("th",null,"Producto",-1),et=t("th",null,"Medida",-1),ot=t("th",null,"Cantidad",-1),st=t("th",null,"Costo (ud.)",-1),nt=t("th",null,"Todal",-1),at=t("th",null,"Actions",-1),rt={class:"hover:bg-gray-50"},lt={class:"uppercase"},it={class:"text-gray-400 mt-2"},ut={class:"font-bold"},dt={class:"flex justify-between gap-4"},ct={tooltip:"Editar"},mt={tooltip:"Eliminar"},_t={key:0},pt=t("td",{colspan:"6",class:"text-center"},"No hay datos que mostrar",-1),ht=[pt],Mt={__name:"Index",props:{inventory:{type:Object,required:!0},total:{type:Number,required:!0},total_quantity:{type:[Number,String],required:!0},users:{type:Object,required:!0},measures:{type:Object,required:!0}},setup(l){const f=l,y=[{name:"Inicio",route:route("dashboard.index")},{name:"Inventario",route:route("dashboard.inventory.index")}],_=E(!1),o=L({id:null,measure:null,quantity:null,unit_price:null}),b=M(()=>[{title:"Inventario",value:"C$"+f.total.toLocaleString(),icon:D},{title:"Productos",value:f.total_quantity.toLocaleString(),icon:T}]);w(),B(route("dashboard.inventory.index"),["inventory"]),P(route("dashboard.inventory.index"),["inventory","total","total_quantity"]);const g=a=>{j({onConfirm:()=>{U.delete(route("dashboard.inventory.destroy",a),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{z.success("Eliminado correctamente")}})}})};function q(a){o.id=a.id,o.measure=a.measure,o.quantity=a.quantity,o.unit_price=a.unit_price,_.value=!0}function x(){o.id=null,o.measure=null,o.quantity=null,o.unit_price=null,_.value=!1}return(a,i)=>(s(),v(O,{title:"Inventario",breads:y},{header:u(()=>[H]),default:u(()=>[t("div",J,[t("div",K,[n(I,{text:"Buscar",modelValue:d(m).search,"onUpdate:modelValue":i[0]||(i[0]=e=>d(m).search=e)},null,8,["modelValue"]),n($,{text:"Responsable",modelValue:d(m).user_id,"onUpdate:modelValue":i[1]||(i[1]=e=>d(m).user_id=e)},{default:u(()=>[Q,(s(!0),c(h,null,p(l.users,e=>(s(),c("option",{value:e.id},r(e.name),9,W))),256))]),_:1},8,["modelValue"])])]),t("div",X,[t("div",Y,[(s(!0),c(h,null,p(b.value,e=>(s(),v(S,{stat:e,key:e.title},null,8,["stat"]))),128))])]),n(V,null,{header:u(()=>[Z,tt,et,ot,st,nt,at]),body:u(()=>[(s(!0),c(h,null,p(l.inventory.data,(e,ft)=>(s(),c("tr",rt,[t("td",null,[n(C,{date:e.created_at},null,8,["date"])]),t("td",null,[t("div",lt,r(e.product.name),1),t("div",it,r(e.product.sku),1)]),t("td",null,r(e.measure),1),t("td",null,r(e.quantity),1),t("td",null," C$"+r(e.unit_cost),1),t("td",null,[t("span",ut,"C$"+r((e.quantity*e.unit_cost).toLocaleString()),1)]),t("td",null,[t("div",dt,[t("span",ct,[n(d(R),{size:"22",role:"button",onClick:k=>q(e)},null,8,["onClick"])]),t("span",mt,[n(d(G),{size:"22",class:"text-red-200",role:"button",onClick:k=>g(e.id)},null,8,["onClick"])])])])]))),256)),l.inventory.data.length==0?(s(),c("tr",_t,ht)):F("",!0)]),paginator:u(()=>[n(N,{links:l.inventory.links},null,8,["links"])]),_:1}),n(A,{onOnCancel:i[2]||(i[2]=e=>x()),openModal:_.value,form:o,measures:l.measures},null,8,["openModal","form","measures"])]),_:1}))}};export{Mt as default};
