import{_ as k}from"./AppLayout-5ccaf181.js";import{T as g}from"./TableSection-b0627fd1.js";import{_ as C}from"./AddButton-7e00ffef.js";import{_ as $}from"./FormModal-bc19a630.js";import{_ as m}from"./InputForm-1ed13b97.js";import{T as I,i as h,o as n,g as N,h as u,d as a,a as c,r as q,b as s,t as f,u as r,F as b,e as V}from"./app-af816446.js";import{t as _}from"./toast-af8dde99.js";import{c as B}from"./helpers-c29a2b55.js";import{I as T}from"./IconPencil-307487cb.js";import{I as E}from"./IconTrash-a622ddfa.js";import"./createVueComponent-7fc78263.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=s("span",{class:"title"}," Usuarios ",-1),P=s("th",null,"ID",-1),A=s("th",null,"Nombre",-1),D=s("th",null,"Email",-1),F=s("th",null,"Acciones",-1),j={class:"hover:bg-gray-50"},z={class:"flex gap-2"},L={key:0},M=s("td",{colspan:"4",class:"text-center"},"No hay datos que mostrar",-1),G=[M],re={__name:"Index",props:{users:{type:Object,required:!0}},setup(v){const w=[{name:"Inicio",route:route("dashboard.index")},{name:"Usuarios",route:route("dashboard.users.index")}],e=I({id:null,name:"",email:"",password:"",password_confirmation:""}),i=h(!1),d=h(!0);function x(l){e.id=l.id,e.name=l.name,e.email=l.email,i.value=!0,d.value=!1}function S(){d.value?e.post(route("dashboard.users.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Usuario agregado"),p()}}):e.put(route("dashboard.users.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Usuario actualizado"),p()}})}function y(l){B({onConfirm:()=>{e.delete(route("dashboard.users.destroy",l),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Usuario eliminado")}})}})}const p=()=>{i.value=!1,d.value=!0,e.reset()};return(l,t)=>(n(),N(k,{title:"Usuarios",breads:w},{header:u(()=>[O,a(C,{onClick:t[0]||(t[0]=o=>i.value=!0)})]),default:u(()=>[a(g,null,{header:u(()=>[P,A,D,F]),body:u(()=>[(n(!0),c(b,null,q(v.users,(o,H)=>(n(),c("tr",j,[s("td",null,f(o.id),1),s("td",null,f(o.name),1),s("td",null,f(o.email),1),s("td",null,[s("div",z,[a(r(T),{role:"button",onClick:U=>x(o)},null,8,["onClick"]),a(r(E),{role:"button",onClick:U=>y(o.id)},null,8,["onClick"])])])]))),256)),v.users.length==0?(n(),c("tr",L,G)):V("",!0)]),_:1}),a($,{show:i.value,title:"Usuario",onOnCancel:t[5]||(t[5]=o=>p()),onOnSubmit:S},{default:u(()=>[a(m,{text:"Name",modelValue:r(e).name,"onUpdate:modelValue":t[1]||(t[1]=o=>r(e).name=o),required:""},null,8,["modelValue"]),a(m,{text:"Email",modelValue:r(e).email,"onUpdate:modelValue":t[2]||(t[2]=o=>r(e).email=o),type:"email",required:""},null,8,["modelValue"]),d.value?(n(),c(b,{key:0},[a(m,{text:"Password",modelValue:r(e).password,"onUpdate:modelValue":t[3]||(t[3]=o=>r(e).password=o),type:"password",required:""},null,8,["modelValue"]),a(m,{text:"Password confirmation",modelValue:r(e).password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=o=>r(e).password_confirmation=o),type:"password",required:""},null,8,["modelValue"])],64)):V("",!0)]),_:1},8,["show"])]),_:1}))}};export{re as default};
