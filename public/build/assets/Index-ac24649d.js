import{_ as w}from"./AppLayout-be198078.js";import{T as B}from"./TableSection-dfeff6b7.js";import{c as O,_ as T,I as $}from"./helpers-19bcc9e4.js";import{_ as z}from"./FormModal-06eb7da5.js";import{_ as j}from"./InputForm-e5ffaa2b.js";import{_ as A}from"./SelectForm-bdf05745.js";import{t as h}from"./toast-43701210.js";import{T as F,r as V,o as l,g as M,h as d,d as n,a as i,i as C,F as f,b as e,t as b,u as o,e as P}from"./app-577b6edb.js";import{I as y}from"./IconTrash-b0192d5f.js";import{c as R}from"./createVueComponent-08306c2b.js";import"./_plugin-vue_export-helper-c27b6911.js";var U=R("corner-down-right","IconCornerDownRight",[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]]);function q(){const a=F({id:"",name:"",parent_id:null});function _(r=null){a.post(route("dashboard.categories.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{h.success("Categoria agregada"),r&&r()}})}function c(r=null){a.put(route("dashboard.categories.update",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{h.success("Categoria actualizada"),r&&r()}})}function g(r){O({onConfirm:()=>{a.delete(route("dashboard.categories.destroy",r),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{h.success("Categoria eliminada")}})}})}return{form:a,store:_,update:c,destroy:g}}const D=e("span",{class:"title"}," Categorias ",-1),E=e("th",null,"Nombre",-1),L=e("th",null,"Acciones",-1),G={class:"hover:bg-gray-50"},H={class:"font-semibold"},J={class:"flex gap-4"},K={class:"hover:bg-gray-50"},Q={class:"flex items-center gap-3"},W={class:"flex gap-4"},X={key:0},Y=e("td",{colspan:"3",class:"text-center"},"No data to display",-1),Z=[Y],ee=e("option",{selected:"",value:""},"None",-1),te=["value"],_e={__name:"Index",props:{categories:{type:Object,required:!0}},setup(a){const _=[{name:"Inicio",route:route("dashboard.users.index")},{name:"Categorias",route:route("dashboard.categories.index")}],c=V(!0),{store:g,update:r,destroy:k,form:u}=q(),p=V(!1);function x(S){Object.assign(u,S),p.value=!0,c.value=!1}function I(){c.value?g(v):r(v)}function v(){p.value=!1,c.value=!0,u.reset()}return(S,s)=>(l(),M(w,{title:"Categorias",breads:_},{header:d(()=>[D,n(T,{onClick:s[0]||(s[0]=t=>p.value=!0)})]),default:d(()=>[n(B,null,{header:d(()=>[E,L]),body:d(()=>[(l(!0),i(f,null,C(a.categories,(t,oe)=>(l(),i(f,null,[e("tr",G,[e("td",null,[e("span",H,b(t.name),1)]),e("td",null,[e("div",J,[n(o($),{role:"button",onClick:m=>x(t)},null,8,["onClick"]),n(o(y),{role:"button",onClick:m=>o(k)(t.id)},null,8,["onClick"])])])]),(l(!0),i(f,null,C(t.childrens,(m,se)=>(l(),i("tr",K,[e("td",null,[e("span",Q,[n(o(U)),e("span",null,b(m.name),1)])]),e("td",null,[e("div",W,[n(o($),{size:"22",role:"button",onClick:N=>x(m)},null,8,["onClick"]),n(o(y),{size:"22",role:"button",onClick:N=>o(k)(m.id)},null,8,["onClick"])])])]))),256))],64))),256)),a.categories.length==0?(l(),i("tr",X,Z)):P("",!0)]),_:1}),n(z,{show:p.value,title:"Categoria",onOnCancel:s[3]||(s[3]=t=>v()),onOnSubmit:s[4]||(s[4]=t=>I())},{default:d(()=>[n(j,{text:"Name",modelValue:o(u).name,"onUpdate:modelValue":s[1]||(s[1]=t=>o(u).name=t)},null,8,["modelValue"]),n(A,{modelValue:o(u).parent_id,"onUpdate:modelValue":s[2]||(s[2]=t=>o(u).parent_id=t),text:"Parent category",name:"parent_id"},{default:d(()=>[ee,(l(!0),i(f,null,C(a.categories,t=>(l(),i("option",{value:t.id},b(t.name),9,te))),256))]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{_e as default};
