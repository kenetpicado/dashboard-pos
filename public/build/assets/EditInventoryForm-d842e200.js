import{t as x}from"./toast-98ac457b.js";import{_ as b}from"./FormModal-5bc8f3a1.js";import{T as g,l as C,o as u,g as S,h as B,b as i,a as y,F as $,r as w,d as l,u as n,t as O}from"./app-6ab9149f.js";import{_ as d}from"./InputForm-66da446b.js";const U={class:"grid grid-cols-2 gap-4"},j={id:"measures"},k=["value"],E={class:"flex justify-end col-span-2"},F={class:"text-xl font-bold"},T={__name:"EditInventoryForm",props:{measures:{type:Object,required:!0},openModal:{type:Boolean,default:!1},form:{type:Object,required:!0}},emits:["onCancel"],setup(a,{emit:q}){var p,c,f,_;const s=a,e=g({id:((p=s.form)==null?void 0:p.id)??null,measure:((c=s.form)==null?void 0:c.measure)??null,quantity:((f=s.form)==null?void 0:f.quantity)??null,unit_price:((_=s.form)==null?void 0:_.unit_price)??null}),V=()=>{e.put(route("dashboard.inventory.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x.success("Registro actualizado correctamente"),m()}})},m=()=>{e.reset(),q("onCancel")};return C(()=>s.form,t=>{e.id=(t==null?void 0:t.id)??null,e.measure=(t==null?void 0:t.measure)??null,e.quantity=(t==null?void 0:t.quantity)??null,e.unit_price=(t==null?void 0:t.unit_price)??null},{deep:!0}),(t,r)=>(u(),S(b,{show:a.openModal,title:"Editar",onOnCancel:r[3]||(r[3]=o=>m()),onOnSubmit:r[4]||(r[4]=o=>V())},{default:B(()=>[i("div",U,[i("datalist",j,[(u(!0),y($,null,w(a.measures,o=>(u(),y("option",{value:o},null,8,k))),256))]),l(d,{text:"Medida",modelValue:n(e).measure,"onUpdate:modelValue":r[0]||(r[0]=o=>n(e).measure=o),required:"",list:"measures"},null,8,["modelValue"]),l(d,{text:"Cantidad",modelValue:n(e).quantity,"onUpdate:modelValue":r[1]||(r[1]=o=>n(e).quantity=o),type:"number",required:"",min:1},null,8,["modelValue"]),l(d,{text:"Precio (Unidad)",modelValue:n(e).unit_price,"onUpdate:modelValue":r[2]||(r[2]=o=>n(e).unit_price=o),type:"number",required:"",min:1},null,8,["modelValue"]),i("div",E,[i("div",F," Total: C$"+O((n(e).quantity*n(e).unit_cost).toLocaleString()),1)])])]),_:1},8,["show"]))}};export{T as _};
