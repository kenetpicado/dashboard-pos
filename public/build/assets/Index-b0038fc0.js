import{_ as y}from"./AppLayout-c22f2406.js";import{_ as P,c as C}from"./helpers-7ae2f424.js";import{T as I}from"./TableSection-17dda05a.js";import{t as f}from"./toast-4e61b110.js";import{r as h,T as $,o as d,g as w,h as l,d as o,b as t,u as s,a as _,i as N,t as b,j as q,F as O,e as U,O as B}from"./app-933f0bf1.js";import{_ as z}from"./ThePaginator-8cfd6558.js";import{_ as E}from"./FormModal-50676e44.js";import{_ as i}from"./InputForm-036517a6.js";import{s as T,w as j,q as v}from"./Search-77223785.js";import{I as A}from"./IconEye-ba145053.js";import{I as D}from"./IconPencil-d688dbb9.js";import{I as F}from"./IconTrash-f1846fad.js";import"./createVueComponent-f4fa544b.js";import"./_plugin-vue_export-helper-c27b6911.js";const K=t("span",{class:"title"}," Productos ",-1),L={class:"mb-3"},M={class:"grid grid-cols-5 gap-4"},G=t("th",null,"SKU",-1),H=t("th",null,"Nombre",-1),J=t("th",null,"Acciones",-1),Q={class:"hover:bg-gray-50"},R={class:"uppercase"},W={class:"flex gap-2"},X={tooltip:"Editar"},Y={tooltip:"Eliminar"},Z={key:0},ee=t("td",{colspan:"3",class:"text-center"},"No hay datos que mostrar",-1),te=[ee],be={__name:"Index",props:{products:{type:Object,required:!0}},setup(c){const g=[{name:"Inicio",route:route("dashboard.products.index")},{name:"Productos",route:route("dashboard.products.index")}],u=h(!1),m=h(!0),r=$({id:null,name:null,sku:null,image:null});function k(n){Object.assign(r,n),m.value=!1,u.value=!0}function S(){m.value?r.post(route("dashboard.products.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Producto agregado")}}):r.put(route("dashboard.products.update",r.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Producto actualizado")}})}function V(n){C({onConfirm:()=>{B.delete(route("dashboard.products.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Producto eliminado")}})}})}function p(){u.value=!1,m.value=!0,r.reset()}return T(),j(route("dashboard.products.index"),["products"]),(n,a)=>(d(),w(y,{title:"Products",breads:g},{header:l(()=>[K,o(P,{onClick:a[0]||(a[0]=e=>u.value=!0)})]),default:l(()=>[t("div",L,[t("div",M,[o(i,{text:"Buscar",type:"search",modelValue:s(v).search,"onUpdate:modelValue":a[1]||(a[1]=e=>s(v).search=e)},null,8,["modelValue"])])]),o(I,null,{header:l(()=>[G,H,J]),body:l(()=>[(d(!0),_(O,null,N(c.products.data,(e,oe)=>(d(),_("tr",Q,[t("td",null,b(e.sku),1),t("td",R,b(e.name),1),t("td",null,[t("div",W,[o(s(q),{href:n.route("dashboard.products.show",e.id),tooltip:"Detalles"},{default:l(()=>[o(s(A),{size:"22",role:"button"})]),_:2},1032,["href"]),t("label",X,[o(s(D),{size:"22",role:"button",onClick:x=>k(e)},null,8,["onClick"])]),t("label",Y,[o(s(F),{size:"22",role:"button",onClick:x=>V(e.id)},null,8,["onClick"])])])])]))),256)),c.products.data.length==0?(d(),_("tr",Z,te)):U("",!0)]),paginator:l(()=>[o(z,{links:c.products.links},null,8,["links"])]),_:1}),o(E,{show:u.value,title:"Product",onOnCancel:p,onOnSubmit:S},{default:l(()=>[o(i,{text:"SKU",modelValue:s(r).sku,"onUpdate:modelValue":a[2]||(a[2]=e=>s(r).sku=e),required:""},null,8,["modelValue"]),o(i,{text:"Name",modelValue:s(r).name,"onUpdate:modelValue":a[3]||(a[3]=e=>s(r).name=e),required:""},null,8,["modelValue"]),o(i,{text:"Image",modelValue:s(r).image,"onUpdate:modelValue":a[4]||(a[4]=e=>s(r).image=e),type:"url"},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{be as default};
