import{_ as V}from"./AppLayout-c22f2406.js";import{T as C}from"./TableSection-17dda05a.js";import{_ as q}from"./ThePaginator-8cfd6558.js";import{r as S,T as k,o as u,g as $,h as l,b as t,t as a,d as r,a as p,i as I,u as s,F as T,e as U}from"./app-933f0bf1.js";import{_ as w}from"./FormModal-50676e44.js";import{_ as c}from"./InputForm-036517a6.js";import{t as f}from"./toast-4e61b110.js";import{I as O}from"./IconPencil-d688dbb9.js";import{I as j}from"./IconTrash-f1846fad.js";import"./createVueComponent-f4fa544b.js";import"./_plugin-vue_export-helper-c27b6911.js";const B=t("div",{class:"text-2xl font-extrabold text-gray-600"}," Inventario ",-1),N={class:"mt-2 text-sm text-gray-500 uppercase"},P=t("th",null,"Medida",-1),z=t("th",null,"Cantidad",-1),E=t("th",null,"Costo (ud.)",-1),L=t("th",null,"Total",-1),M=t("th",null,"Precio (ud.)",-1),F=t("th",null,"Acciones",-1),R={class:"hover:bg-gray-50"},A={class:"font-bold"},D={class:"flex gap-4"},G={key:0},H=t("td",{colspan:"5",class:"text-center"},"No hay datos que mostrar",-1),J=[H],K={class:"grid grid-cols-2 gap-4"},Q={class:"flex justify-end col-span-2"},W={class:"text-xl font-bold"},dt={__name:"Show",props:{product:{type:Object,required:!0},inventory:{type:Object,required:!0}},setup(i){const h=i,m=S(!1),o=k({id:null,measure:null,quantity:null,unit_cost:null,unit_price:null}),v=[{name:"Inicio",route:route("dashboard.users.index")},{name:"Productos",route:route("dashboard.products.index")},{name:"Inventario",route:route("dashboard.products.show",h.product.id)}],y=d=>{Object.assign(o,d),m.value=!0},_=()=>{m.value=!1,o.reset()},b=()=>{o.put(route("dashboard.inventory.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Registro actualizado correctamente"),_()}})},x=d=>{confirm("Â¿Estas seguro de eliminar este registro?")&&o.delete(route("dashboard.inventory.destroy",d),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Registro eliminado correctamente")}})};return(d,n)=>(u(),$(V,{title:"Inventario",breads:v},{header:l(()=>[t("div",null,[B,t("div",N,a(i.product.name),1)])]),default:l(()=>[r(C,null,{header:l(()=>[P,z,E,L,M,F]),body:l(()=>[(u(!0),p(T,null,I(i.inventory.data,(e,X)=>(u(),p("tr",R,[t("td",null,a(e.measure),1),t("td",null,a(e.quantity),1),t("td",null," C$"+a(e.unit_cost),1),t("td",null,[t("span",A,"C$"+a((e.quantity*e.unit_cost).toLocaleString()),1)]),t("td",null," C$"+a(e.unit_price),1),t("td",null,[t("div",D,[r(s(O),{size:"22",role:"button",onClick:g=>y(e)},null,8,["onClick"]),r(s(j),{size:"22",role:"button",onClick:g=>x(e)},null,8,["onClick"])])])]))),256)),i.inventory.data.length==0?(u(),p("tr",G,J)):U("",!0)]),paginator:l(()=>[r(q,{links:i.inventory.links},null,8,["links"])]),_:1}),r(w,{show:m.value,title:"Editar",onOnCancel:n[4]||(n[4]=e=>_()),onOnSubmit:n[5]||(n[5]=e=>b())},{default:l(()=>[t("div",K,[r(c,{text:"Medida",modelValue:s(o).measure,"onUpdate:modelValue":n[0]||(n[0]=e=>s(o).measure=e),required:""},null,8,["modelValue"]),r(c,{text:"Cantidad",modelValue:s(o).quantity,"onUpdate:modelValue":n[1]||(n[1]=e=>s(o).quantity=e),type:"number",required:"",min:1},null,8,["modelValue"]),r(c,{text:"Costo (Unidad)",modelValue:s(o).unit_cost,"onUpdate:modelValue":n[2]||(n[2]=e=>s(o).unit_cost=e),type:"number",required:"",min:1},null,8,["modelValue"]),r(c,{text:"Precio (Unidad)",modelValue:s(o).unit_price,"onUpdate:modelValue":n[3]||(n[3]=e=>s(o).unit_price=e),type:"number",required:"",min:1},null,8,["modelValue"]),t("div",Q,[t("div",W," Total: "+a((s(o).quantity*s(o).unit_cost).toLocaleString()),1)])])]),_:1},8,["show"])]),_:1}))}};export{dt as default};
