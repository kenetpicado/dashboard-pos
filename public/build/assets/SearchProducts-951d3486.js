import{_ as y}from"./InputForm-b75227be.js";import{j as v,O as b,k,o as a,a as s,b as e,d,h as x,F as c,r as m,e as g,t as i,u as w}from"./app-b76a9bfc.js";import{l as V}from"./lodash-b34d7fc5.js";import{_ as C}from"./SelectForm-7c21409b.js";import{_ as S}from"./ThePaginator-536f1e87.js";import{c as P}from"./createVueComponent-19caef2b.js";var $=P("shopping-cart-filled","IconShoppingCartFilled",[["path",{d:"M6 2a1 1 0 0 1 .993 .883l.007 .117v1.068l13.071 .935a1 1 0 0 1 .929 1.024l-.01 .114l-1 7a1 1 0 0 1 -.877 .853l-.113 .006h-12v2h10a3 3 0 1 1 -2.995 3.176l-.005 -.176l.005 -.176c.017 -.288 .074 -.564 .166 -.824h-5.342a3 3 0 1 1 -5.824 1.176l-.005 -.176l.005 -.176a3.002 3.002 0 0 1 1.995 -2.654v-12.17h-1a1 1 0 0 1 -.993 -.883l-.007 -.117a1 1 0 0 1 .883 -.993l.117 -.007h2zm0 16a1 1 0 1 0 0 2a1 1 0 0 0 0 -2zm11 0a1 1 0 1 0 0 2a1 1 0 0 0 0 -2z","stroke-width":"0",fill:"currentColor",key:"svg-0"}]]);const B={class:"flex gap-4"},j=e("option",{selected:"",value:""},"Todas",-1),q=["value"],z=["value"],F={class:"w-full border-collapse bg-white text-left text-sm text-gray-600 rounded-lg"},N=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",null,"#"),e("th",null,"Producto"),e("th",null,"Agregar")])],-1),U={class:"divide-y divide-gray-100 border-t border-gray-100"},E={key:0,class:"h-36 w-36 flex items-center justify-center"},I=["src"],O={class:"uppercase"},L={class:"text-indigo-600 flex items-center gap-1 mt-2"},A=["onClick"],D={key:0,class:"text-center"},K={colspan:"3"},M={key:0},R={key:1},Y={__name:"SearchProducts",props:{products:{type:Object,required:!1}},setup(l){const u=new URLSearchParams(window.location.search),o=v({search:u.get("search")??"",type:u.get("type")??"",category_id:u.get("category_id")??""}),f=V.debounce(()=>{for(const r in o)o[r]||delete o[r];b.get(route("dashboard.transactions.create"),o,{preserveState:!0,preserveScroll:!0,only:["products"]})},500);return k(()=>o,f,{deep:!0}),(r,n)=>{var p,_;return a(),s("div",null,[e("div",B,[d(y,{text:"Buscar",placeholder:"Buscar",modelValue:o.search,"onUpdate:modelValue":n[0]||(n[0]=t=>o.search=t),type:"search"},null,8,["modelValue"]),d(C,{text:"Categoria",modelValue:o.category_id,"onUpdate:modelValue":n[1]||(n[1]=t=>o.category_id=t),required:""},{default:x(()=>[j,(a(!0),s(c,null,m(r.$page.props.categories,t=>(a(),s(c,null,[e("option",{value:t.id},i(t.name),9,q),(a(!0),s(c,null,m(t.childrens,h=>(a(),s("option",{value:h.id},i(h.name),9,z))),256))],64))),256))]),_:1},8,["modelValue"])]),e("table",F,[N,e("tbody",U,[(a(!0),s(c,null,m(l.products.data,(t,h)=>(a(),s("tr",null,[e("td",null,[t.image?(a(),s("div",E,[e("img",{src:t.image,onerror:"this.src='/not-found.jpg'",alt:"Imagen",class:"max-h-full max-w-full rounded-lg"},null,8,I)])):g("",!0)]),e("td",null,[e("div",O,i(t.name),1),e("div",L,i(t.sku),1)]),e("td",null,[e("button",{class:"primary-button",type:"button",onClick:T=>r.$emit("setProduct",t)},[d(w($),{size:"20"})],8,A)])]))),256)),((p=l.products.data)==null?void 0:p.length)==0?(a(),s("tr",D,[e("td",K,[!o.search&&((_=l.products.data)==null?void 0:_.length)==0?(a(),s("span",M," Escriba el nombreo SKU del producto que desea buscar ")):(a(),s("span",R," No se han encontrado productos "))])])):g("",!0)])]),d(S,{links:l.products.links},null,8,["links"])])}}};export{Y as default};
