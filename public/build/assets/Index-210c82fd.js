import{_ as g}from"./AppLayout-be198078.js";import{_ as N,I as x,c as O}from"./helpers-19bcc9e4.js";import{T as P}from"./TableSection-dfeff6b7.js";import{t as f}from"./toast-43701210.js";import{r as h,T as y,o as d,g as B,h as r,d as s,a as _,i as C,b as l,t as b,u as o,k as E,F as $,e as D,O as U}from"./app-577b6edb.js";import{_ as L}from"./ThePaginator-afe1772a.js";import{_ as w}from"./FormModal-06eb7da5.js";import{_ as i}from"./InputForm-e5ffaa2b.js";import{_ as q}from"./SelectForm-bdf05745.js";import{I as z}from"./IconEye-cee92368.js";import{I as T}from"./IconTrash-b0192d5f.js";import"./createVueComponent-08306c2b.js";import"./_plugin-vue_export-helper-c27b6911.js";const j=l("span",{class:"title"}," Productos ",-1),A=l("th",null,"SKU",-1),F=l("th",null,"Nombre",-1),K=l("th",null,"Acciones",-1),M={class:"hover:bg-gray-50"},G={class:"flex gap-2"},H={tooltip:"Editar"},J={tooltip:"Eliminar"},Q={key:0},R=l("td",{colspan:"3",class:"text-center"},"No hay datos que mostrar",-1),W=[R],X=l("option",{value:"DISPONIBLE"},"DISPONIBLE",-1),Y=l("option",{value:"NO_DISPONIBLE"},"NO DISPONIBLE",-1),pe={__name:"Index",props:{products:{type:Object,required:!0}},setup(m){const S=[{name:"Inicio",route:route("dashboard.products.index")},{name:"Productos",route:route("dashboard.products.index")}],u=h(!1),c=h(!0),t=y({id:null,name:null,sku:null,status:"DISPONIBLE",image:null,notes:null});function v(n){Object.assign(t,n),c.value=!1,u.value=!0}function I(){c.value?t.post(route("dashboard.products.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Producto agregado")}}):t.put(route("dashboard.products.update",t.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Producto actualizado")}})}function V(n){O({onConfirm:()=>{U.delete(route("dashboard.products.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Producto eliminado")}})}})}function p(){u.value=!1,c.value=!0,t.reset()}return(n,a)=>(d(),B(g,{title:"Products",breads:S},{header:r(()=>[j,s(N,{onClick:a[0]||(a[0]=e=>u.value=!0)})]),default:r(()=>[s(P,null,{header:r(()=>[A,F,K]),body:r(()=>[(d(!0),_($,null,C(m.products.data,(e,Z)=>(d(),_("tr",M,[l("td",null,b(e.sku),1),l("td",null,b(e.name),1),l("td",null,[l("div",G,[s(o(E),{href:n.route("dashboard.products.show",e.id),tooltip:"Detalles"},{default:r(()=>[s(o(z),{size:"22",role:"button"})]),_:2},1032,["href"]),l("label",H,[s(o(x),{size:"22",role:"button",onClick:k=>v(e)},null,8,["onClick"])]),l("label",J,[s(o(T),{size:"22",role:"button",onClick:k=>V(e.id)},null,8,["onClick"])])])])]))),256)),m.products.length==0?(d(),_("tr",Q,W)):D("",!0)]),paginator:r(()=>[s(L,{links:m.products.links},null,8,["links"])]),_:1}),s(w,{show:u.value,title:"Product",onOnCancel:p,onOnSubmit:I},{default:r(()=>[s(i,{text:"SKU",modelValue:o(t).sku,"onUpdate:modelValue":a[1]||(a[1]=e=>o(t).sku=e),required:""},null,8,["modelValue"]),s(i,{text:"Name",modelValue:o(t).name,"onUpdate:modelValue":a[2]||(a[2]=e=>o(t).name=e),required:""},null,8,["modelValue"]),s(q,{modelValue:o(t).status,"onUpdate:modelValue":a[3]||(a[3]=e=>o(t).status=e),text:"Status"},{default:r(()=>[X,Y]),_:1},8,["modelValue"]),s(i,{text:"Image",modelValue:o(t).image,"onUpdate:modelValue":a[4]||(a[4]=e=>o(t).image=e),type:"url"},null,8,["modelValue"]),s(i,{text:"Note",modelValue:o(t).notes,"onUpdate:modelValue":a[5]||(a[5]=e=>o(t).notes=e)},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{pe as default};
